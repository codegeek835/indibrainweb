!function(s){function m(t,e,a,r){var n,o,g=1,l=1,s=t.width()-2,d=[],f=0,w=a.rowHeight;function c(t){a.maxRows&&l>a.maxRows||a.truncate&&t&&1<l?d[n][0].style.display="none":(d[n][4]&&(d[n][3].attr("src",d[n][4]),d[n][4]=""),d[n][0].style.width=o+"px",d[n][0].style.height=w+"px",d[n][0].style.display="block")}for(s=s||t.width()-2,i=0;i<e.length;i++)if(d.push(e[i]),s<=(f+=e[i][2]+a.margin)){var u=d.length*a.margin,g=(s-u)/(f-u),w=Math.ceil(a.rowHeight*g);for(exact_w=0,n=0;n<d.length;n++)o=Math.ceil(d[n][2]*g),exact_w+=o+a.margin,exact_w>s&&(o-=exact_w-s),c();d=[],f=0,l++}for(n=0;n<d.length;n++)o=Math.floor(d[n][2]*g),h=Math.floor(a.rowHeight*g),c(!0);r||s==t.width()||m(t,e,a,!0)}s.fn.flexImages=function(t){var l=s.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0},t);return this.each(function(){var t=s(this),e=s(t).find(l.container),a=[],i=(new Date).getTime(),r=window.getComputedStyle?getComputedStyle(e[0],null):e[0].currentStyle;for(l.margin=(parseInt(r.marginLeft)||0)+(parseInt(r.marginRight)||0)+(Math.round(parseFloat(r.borderLeftWidth))||0)+(Math.round(parseFloat(r.borderRightWidth))||0),j=0;j<e.length;j++){var n=e[j],o=parseInt(n.getAttribute("data-w")),h=o*(l.rowHeight/parseInt(n.getAttribute("data-h"))),g=s(n).find(l.object);a.push([n,o,h,g,g.data("src")])}m(t,a,l),s(window).off("resize.flexImages"+t.data("flex-t")),s(window).on("resize.flexImages"+i,function(){m(t,a,l)}),t.data("flex-t",i)})}}(jQuery);
//# sourceMappingURL=jquery.flex-images.min.js.map
